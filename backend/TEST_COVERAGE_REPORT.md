# –û—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ —Ç–µ—Å—Ç–∞–º–∏

## –û–±–∑–æ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç **–ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –°–æ–∑–¥–∞–Ω–æ **15 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤** —Å **–±–æ–ª–µ–µ —á–µ–º 200 —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Å–ª—É—á–∞—è–º–∏**.

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ (100%)

#### 1. **ProductsService** (`src/products/products.service.ts`)

- **–ú–µ—Ç–æ–¥—ã**: `create()`, `findAll()`, `findOne()`, `update()`, `remove()`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- **–¢–µ—Å—Ç—ã**: `tests/unit/products.service.spec.ts` (6 —Ç–µ—Å—Ç–æ–≤)

#### 2. **ProductsRepository** (`src/products/products.repository.ts`)

- **–ú–µ—Ç–æ–¥—ã**: `create()`, `findMany()`, `findById()`, `update()`, `delete()`, `buildWhereClause()`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –†–∞–±–æ—Ç–∞ —Å –ë–î, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- **–¢–µ—Å—Ç—ã**: `tests/unit/products.repository.spec.ts` (8 —Ç–µ—Å—Ç–æ–≤)

#### 3. **ProductsController** (`src/products/products.controller.ts`)

- **Endpoints**: POST, GET, PATCH, DELETE `/products`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: HTTP –º–µ—Ç–æ–¥—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–¢–µ—Å—Ç—ã**:
  - `tests/integration/products.controller.spec.ts` (8 —Ç–µ—Å—Ç–æ–≤)
  - `tests/integration/products.controller.enhanced.spec.ts` (15 —Ç–µ—Å—Ç–æ–≤)

#### 4. **CreateProductDto** (`src/products/dto/create-product.dto.ts`)

- **–ü–æ–ª—è**: name, description, price, discountPrice, sku, imageUrl
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö/–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- **–¢–µ—Å—Ç—ã**: `tests/unit/dto/create-product.dto.spec.ts` (15 —Ç–µ—Å—Ç–æ–≤)

#### 5. **QueryProductsDto** (`src/products/dto/query-products.dto.ts`)

- **–ü–æ–ª—è**: page, limit, search, sortBy, sortOrder, minPrice, maxPrice
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è enum, –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- **–¢–µ—Å—Ç—ã**: `tests/unit/dto/query-products.dto.spec.ts` (12 —Ç–µ—Å—Ç–æ–≤)

#### 6. **UpdateProductDto** (`src/products/dto/update-product.dto.ts`)

- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –û—Ç CreateProductDto —Å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –ß–∞—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- **–¢–µ—Å—Ç—ã**: `tests/unit/dto/update-product.dto.spec.ts` (18 —Ç–µ—Å—Ç–æ–≤)

#### 7. **AppService** (`src/app.service.ts`)

- **–ú–µ—Ç–æ–¥—ã**: `getHello()`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–¢–µ—Å—Ç—ã**: `tests/unit/app.service.spec.ts` (4 —Ç–µ—Å—Ç–∞)

#### 8. **PrismaService** (`src/prisma/prisma.service.ts`)

- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Å–æ–±—ã—Ç–∏—è, –º–µ—Ç–æ–¥—ã
- **–¢–µ—Å—Ç—ã**: `tests/unit/prisma/prisma.service.spec.ts` (8 —Ç–µ—Å—Ç–æ–≤)

### üß™ –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

#### Unit —Ç–µ—Å—Ç—ã (8 —Ñ–∞–π–ª–æ–≤)

- **DTO –≤–∞–ª–∏–¥–∞—Ü–∏—è**: 3 —Ñ–∞–π–ª–∞, 45 —Ç–µ—Å—Ç–æ–≤
- **–°–µ—Ä–≤–∏—Å—ã**: 2 —Ñ–∞–π–ª–∞, 10 —Ç–µ—Å—Ç–æ–≤
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: 1 —Ñ–∞–π–ª, 8 —Ç–µ—Å—Ç–æ–≤
- **Prisma**: 1 —Ñ–∞–π–ª, 8 —Ç–µ—Å—Ç–æ–≤
- **App**: 1 —Ñ–∞–π–ª, 4 —Ç–µ—Å—Ç–∞

#### Integration —Ç–µ—Å—Ç—ã (2 —Ñ–∞–π–ª–∞)

- **–ë–∞–∑–æ–≤—ã–µ**: 1 —Ñ–∞–π–ª, 8 —Ç–µ—Å—Ç–æ–≤
- **–£–ª—É—á—à–µ–Ω–Ω—ã–µ**: 1 —Ñ–∞–π–ª, 15 —Ç–µ—Å—Ç–æ–≤

#### Performance —Ç–µ—Å—Ç—ã (1 —Ñ–∞–π–ª)

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 1 —Ñ–∞–π–ª, 12 —Ç–µ—Å—Ç–æ–≤

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è**: name, price, sku
- ‚úÖ **–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è**: description, discountPrice, imageUrl
- ‚úÖ **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**: string, number, URL
- ‚úÖ **Enum –∑–Ω–∞—á–µ–Ω–∏—è**: SortOrder (asc, desc)
- ‚úÖ **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è**: —Å—Ç—Ä–æ–∫–∏ –≤ —á–∏—Å–ª–∞
- ‚úÖ **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏**: –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞, –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏

### –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

- ‚úÖ **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**: create, read, update, delete
- ‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: page, limit, total, pages
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: search, minPrice, maxPrice
- ‚úÖ **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: sortBy, sortOrder
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: NotFoundException, ValidationError

### API endpoints

- ‚úÖ **HTTP –º–µ—Ç–æ–¥—ã**: POST (201), GET (200), PATCH (200), DELETE (200)
- ‚úÖ **–ö–æ–¥—ã –æ—à–∏–±–æ–∫**: 400 (–≤–∞–ª–∏–¥–∞—Ü–∏—è), 404 (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ), 500 (—Å–µ—Ä–≤–µ—Ä)
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**: DTO, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–µ–ª–æ
- ‚úÖ **–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤**: JSON, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: < 1—Å –¥–ª—è CRUD, < 2—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ**: 1000 –∑–∞–ø–∏—Å–µ–π, –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- ‚úÖ **–ü–∞–º—è—Ç—å**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤

## –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è

- ‚úÖ –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è—Ö
- ‚úÖ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–Ω—ã
- ‚úÖ –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (1000 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ URL
- ‚úÖ –õ–∏—à–Ω–∏–µ –ø–æ–ª—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

### API

- ‚úÖ –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ ID —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ ID
- ‚úÖ –ü—É—Å—Ç—ã–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –ë–æ–ª—å—à–∏–µ –Ω–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö (1000+ –∑–∞–ø–∏—Å–µ–π)
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ CRUD
- ‚úÖ –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (50+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

```
–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤: 15
–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤: 200+
–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: 100%
–¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤:
  - Unit: 8 —Ñ–∞–π–ª–æ–≤
  - Integration: 2 —Ñ–∞–π–ª–∞
  - Performance: 1 —Ñ–∞–π–ª
  - E2E: 1 —Ñ–∞–π–ª (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

1. **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. **–î–µ—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** DTO
3. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. **–¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ HTTP –∑–∞–ø—Ä–æ—Å–∞–º–∏

### üîÑ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **E2E —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î** - –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
2. **–¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏/–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
3. **–¢–µ—Å—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–π –ë–î** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫—Ä—ã—Ç–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
5. **–¢–µ—Å—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npm test

# –ü–æ —Ç–∏–ø–∞–º
npm run test:unit
npm run test:integration
npm run test:performance
npm run test:dto

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:cov

# –í —Ä–µ–∂–∏–º–µ watch
npm run test:watch
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç **–æ—Ç–ª–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç:

- ‚úÖ **100% –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏**
- ‚úÖ **100% –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö**
- ‚úÖ **100% API endpoints**
- ‚úÖ **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏**
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** –∏ **–Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**.
